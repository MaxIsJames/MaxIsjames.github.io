---
layout: post
title: "Alba: A Wildlife Adventure"
tags: [Technical Artist, Programmer]
featured_image_thumbnail: assets/images/posts/Alba-a-wildlife-adventure.png
featured_image: assets/images/posts/AlbaWildlife.png
featured_text: An ambitious mobile open world.
show_date : true
---

Alba is a small open world 'chillectathon', that sees you play Alba, a young girl on holiday with her grandparents on a beautiful spanish island.
Alba's adventures in 'Pinar del Mar' will see her take on animal photography, wildlife preservation and even uncovering grand political conspiracies. 

Developed by ustwo Games and relased for Mobile, PC and Switch,
you can find out more about this game at [albawildlife.com](https://www.albawildlife.com/)!

>"Not only have ustwo created a world that is stunning to look at, but theyâ€™ve crafted a narrative that boldly shouts that this girl can."


|![Photo](assets/images/posts/albaPhone.png)|![landscape]( assets/images/posts/alba-wildlife-adventure-4.jpg)|



My work on this project was primarily as a Graphics Programmer and Technical artist, and my focus was split between <br>
**a.** making the game look as beautiful and authentic as possible (easy) and <br>
**b.** making an ambitious open world game run on _ancient_ mobile hardware (less easy). <br>

---
## Graphics

My work on Alba involved a lot of fun elements that helped bring the natural world of Pinar del Mar to life. Countless natural effects,
a dynamic time of day system, skies, clouds, plants, terrains, a huge number of systems go into running and open world like this efficiently.

|![Night](assets/images/posts/albaNightDuck.gif)|![duckweed](assets/images/posts/duckweed.gif)|

One of the systems I'm proudest of is the oceans and their interaction with the island. This is something that most games will fake, cheat or sidestep
completely but we really wanted to do something special here. 

![waves](assets/images/posts/waves.gif)

Our level design tools were semi procedural, and the island layout was in flux, redesigns and the shape of the coastline changing often, we
knew that whatever solution we used would have to be automatic, procedural on top of being beautiful and performant.

Our eventual solution utilises a variety of dense data textures generated at compile time, using signed distance fields, height maps, pre baked noise and a 
sort of modified, velocity aware flood fill (our secret sauce), to generate waves that would believably flow into shore side terrain, while being completely
stateless and lightning fast to render.

---

## Performance

Alba also had to support some particularly old, early 2010s era mobile hardware, so we had to make sure that we could achieve all of this in a format that
would be able to gracefully scale down the performance spectrum. 

![AlbaIsland.jpg](assets/images/posts/AlbaIsland.jpg)

While the world of Alba is compact, it is incredibly dense, and open in a way that didn't allow us to hide much at any given time. Almost 
every part of the game is potentially visible from every other part of the island at all times and the design of the game meant that 
almost everything had to be loaded into memory at once!

A lot of the work done in this field is hopefully invisible to the user, but Alba involved a LOT of memory optimisation,
a lot of investment into instancing systems including a custom compute based grass system, a system for baking lightmaps while preserving our
dynamic time of day and a lot of work with the art team to help them optimise assets.

![albaTerrain.gif](assets/images/posts/albaTerrain.gif)
Our terrain system was optimised for maximum interest with the minimum number of texture reads.


